{"ast":null,"code":"import ApiService from '../apiservice';\nimport ErroValidacao from '../exception/ErroValidacao';\n\nclass UsuarioService extends ApiService {\n  constructor() {\n    super('/api/usuarios');\n  }\n\n  autenticar(credenciais) {\n    return this.post('/autenticar', credenciais);\n  }\n\n  obterSaldoPorUsuario(id) {\n    return this.get(`/${id}/saldo`);\n  }\n\n  salvar(usuario) {\n    return this.post('/', usuario);\n  }\n\n  validar(usuario) {\n    const erros = [];\n\n    if (!usuario.nome) {\n      erros.push('O campo Nome é obrigatório.');\n    }\n\n    if (!usuario.email) {\n      erros.push('O campo Email é obrigatório.');\n    } else if (!usuario.email.match(/^[a-z0-9.]+@[a-z0-9]+\\.[a-z]/)) {\n      erros.push('Informe um Email válido.');\n    }\n\n    if (!usuario.senha || !usuario.senhaRepeticao) {\n      erros.push('Digite a senha 2x.');\n    } else if (usuario.senha !== usuario.senhaRepeticao) {\n      erros.push('As senhas não batem.');\n    }\n\n    if (erros && erros.length > 0) {\n      throw new ErroValidacao(erros);\n    }\n  }\n\n}\n\nexport default UsuarioService;","map":{"version":3,"sources":["/opt/estudo/projetos/minhas-financas/minhas-financas-app/src/app/service/usuarioService.js"],"names":["ApiService","ErroValidacao","UsuarioService","constructor","autenticar","credenciais","post","obterSaldoPorUsuario","id","get","salvar","usuario","validar","erros","nome","push","email","match","senha","senhaRepeticao","length"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,eAAvB;AAEA,OAAOC,aAAP,MAA0B,4BAA1B;;AAEA,MAAMC,cAAN,SAA6BF,UAA7B,CAAwC;AAEpCG,EAAAA,WAAW,GAAE;AACT,UAAM,eAAN;AACH;;AAEDC,EAAAA,UAAU,CAACC,WAAD,EAAa;AACnB,WAAO,KAAKC,IAAL,CAAU,aAAV,EAAyBD,WAAzB,CAAP;AACH;;AAEDE,EAAAA,oBAAoB,CAACC,EAAD,EAAI;AACpB,WAAO,KAAKC,GAAL,CAAU,IAAGD,EAAG,QAAhB,CAAP;AACH;;AAEDE,EAAAA,MAAM,CAACC,OAAD,EAAS;AACX,WAAO,KAAKL,IAAL,CAAU,GAAV,EAAeK,OAAf,CAAP;AACH;;AAEDC,EAAAA,OAAO,CAACD,OAAD,EAAS;AACZ,UAAME,KAAK,GAAG,EAAd;;AAEA,QAAG,CAACF,OAAO,CAACG,IAAZ,EAAiB;AACbD,MAAAA,KAAK,CAACE,IAAN,CAAW,6BAAX;AACH;;AAED,QAAG,CAACJ,OAAO,CAACK,KAAZ,EAAkB;AACdH,MAAAA,KAAK,CAACE,IAAN,CAAW,8BAAX;AACH,KAFD,MAEM,IAAI,CAACJ,OAAO,CAACK,KAAR,CAAcC,KAAd,CAAoB,8BAApB,CAAL,EAA0D;AAC5DJ,MAAAA,KAAK,CAACE,IAAN,CAAW,0BAAX;AACH;;AAED,QAAG,CAACJ,OAAO,CAACO,KAAT,IAAkB,CAACP,OAAO,CAACQ,cAA9B,EAA6C;AACzCN,MAAAA,KAAK,CAACE,IAAN,CAAW,oBAAX;AACH,KAFD,MAEM,IAAIJ,OAAO,CAACO,KAAR,KAAkBP,OAAO,CAACQ,cAA9B,EAA8C;AAChDN,MAAAA,KAAK,CAACE,IAAN,CAAW,sBAAX;AACH;;AAED,QAAGF,KAAK,IAAIA,KAAK,CAACO,MAAN,GAAe,CAA3B,EAA6B;AACzB,YAAM,IAAInB,aAAJ,CAAkBY,KAAlB,CAAN;AACH;AACJ;;AAxCmC;;AA4CxC,eAAeX,cAAf","sourcesContent":["import ApiService from '../apiservice'\n\nimport ErroValidacao from '../exception/ErroValidacao'\n\nclass UsuarioService extends ApiService {\n\n    constructor(){\n        super('/api/usuarios')\n    }\n\n    autenticar(credenciais){\n        return this.post('/autenticar', credenciais)\n    }\n\n    obterSaldoPorUsuario(id){\n        return this.get(`/${id}/saldo`);\n    }\n\n    salvar(usuario){\n        return this.post('/', usuario);\n    }\n\n    validar(usuario){\n        const erros = []\n\n        if(!usuario.nome){\n            erros.push('O campo Nome é obrigatório.')\n        }\n\n        if(!usuario.email){\n            erros.push('O campo Email é obrigatório.')\n        }else if( !usuario.email.match(/^[a-z0-9.]+@[a-z0-9]+\\.[a-z]/) ){\n            erros.push('Informe um Email válido.')\n        }\n\n        if(!usuario.senha || !usuario.senhaRepeticao){\n            erros.push('Digite a senha 2x.')\n        }else if( usuario.senha !== usuario.senhaRepeticao ){\n            erros.push('As senhas não batem.')\n        }        \n\n        if(erros && erros.length > 0){\n            throw new ErroValidacao(erros);\n        }\n    }\n\n}\n\nexport default UsuarioService;"]},"metadata":{},"sourceType":"module"}